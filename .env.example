# =============================================================================
# Nexus AEC - Environment Variables Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=debug  # debug | info | warn | error

# -----------------------------------------------------------------------------
# LiveKit - Real-time Voice Communication
# https://cloud.livekit.io
# -----------------------------------------------------------------------------
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret
LIVEKIT_URL=wss://your-app.livekit.cloud
# For local development, you can run LiveKit locally:
# LIVEKIT_URL=ws://localhost:7880

# -----------------------------------------------------------------------------
# Supabase - PostgreSQL + Vector Store (Tier 3 Knowledge Base)
# https://supabase.com/dashboard
# -----------------------------------------------------------------------------
# Production (Supabase Cloud)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Local Development (Docker Compose)
# SUPABASE_URL=http://localhost:54321
# SUPABASE_ANON_KEY=local-anon-key
# SUPABASE_SERVICE_ROLE_KEY=local-service-role-key

# Direct PostgreSQL connection (for migrations/scripts)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nexus_aec

# -----------------------------------------------------------------------------
# Redis - Session State (Tier 2 Drive State)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
# For production with authentication:
# REDIS_URL=redis://:password@your-redis-host:6379

# -----------------------------------------------------------------------------
# OpenAI - GPT-4o Reasoning Loop
# https://platform.openai.com/api-keys
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_MODEL=gpt-4o
# For embeddings (knowledge base)
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# -----------------------------------------------------------------------------
# Deepgram - Speech-to-Text (via LiveKit)
# https://console.deepgram.com
# -----------------------------------------------------------------------------
DEEPGRAM_API_KEY=your-deepgram-api-key
# Model configuration
DEEPGRAM_MODEL=nova-2
DEEPGRAM_LANGUAGE=en-US

# -----------------------------------------------------------------------------
# ElevenLabs - Text-to-Speech (via LiveKit)
# https://elevenlabs.io/api
# -----------------------------------------------------------------------------
ELEVENLABS_API_KEY=your-elevenlabs-api-key
ELEVENLABS_VOICE_ID=your-preferred-voice-id
# Voice settings
ELEVENLABS_MODEL=eleven_turbo_v2
ELEVENLABS_STABILITY=0.5
ELEVENLABS_SIMILARITY_BOOST=0.75

# -----------------------------------------------------------------------------
# Microsoft Graph API - Outlook Integration
# https://portal.azure.com - App registrations
# -----------------------------------------------------------------------------
MICROSOFT_CLIENT_ID=your-azure-app-client-id
MICROSOFT_CLIENT_SECRET=your-azure-app-client-secret
MICROSOFT_TENANT_ID=common
# Redirect URI must match Azure app registration
MICROSOFT_REDIRECT_URI=http://localhost:3000/auth/microsoft/callback

# Required scopes (configured in Azure):
# - Mail.Read, Mail.ReadWrite, Mail.Send
# - Calendars.Read, Calendars.ReadWrite
# - Contacts.Read
# - User.Read
# - offline_access

# -----------------------------------------------------------------------------
# Google API - Gmail Integration
# https://console.cloud.google.com
# -----------------------------------------------------------------------------
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Required scopes:
# - https://www.googleapis.com/auth/gmail.readonly
# - https://www.googleapis.com/auth/gmail.modify
# - https://www.googleapis.com/auth/gmail.compose
# - https://www.googleapis.com/auth/calendar.readonly
# - https://www.googleapis.com/auth/contacts.readonly

# -----------------------------------------------------------------------------
# Encryption
# -----------------------------------------------------------------------------
# Master key for encrypting sensitive data at rest (32 bytes, base64)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
ENCRYPTION_MASTER_KEY=your-32-byte-base64-encoded-key

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# Enable Gmail provider (Outlook is always enabled)
FEATURE_GMAIL_ENABLED=true

# Enable calendar integration
FEATURE_CALENDAR_ENABLED=true

# Enable contacts sync for VIP suggestions
FEATURE_CONTACTS_SYNC_ENABLED=true

# Enable RAG retrieval for briefings
FEATURE_RAG_ENABLED=true

# Development mode: use mock services
FEATURE_DEV_MODE=false

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# Email polling interval (milliseconds)
EMAIL_POLL_INTERVAL_MS=30000

# Maximum emails to process per briefing
MAX_EMAILS_PER_BRIEFING=50

# -----------------------------------------------------------------------------
# Sentry - Error Tracking (Optional)
# https://sentry.io
# -----------------------------------------------------------------------------
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# -----------------------------------------------------------------------------
# Analytics (Optional)
# -----------------------------------------------------------------------------
# MIXPANEL_TOKEN=your-mixpanel-token
# AMPLITUDE_API_KEY=your-amplitude-key
